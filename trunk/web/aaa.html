<head><title>my title</title></head>
	<body>
	<script type="text/javascript"> 
/*
jQuery().ready(function (){
	jQuery("#gridTable").jqGrid({
	   	url:'json-test!testObj.do',
		datatype: "json",
		 height: 250,
         width:800,
	   //	colNames:['Inv No','Date', 'Client', 'Amount','Tax','Total','Notes'],
	   	colNames:['id','name'],
	   	colModel:[
	   		{name:'housetypeid',index:'housetypeid', width:55},
	   		{name:'housetypename',index:'housetypename', width:90},
	   		//{name:'name',index:'name asc, invdate', width:100},
	   		//{name:'amount',index:'amount', width:80, align:"right"},
	   		//{name:'tax',index:'tax', width:80, align:"right"},		
	   		//{name:'total',index:'total', width:80,align:"right"},		
	   		//{name:'note',index:'note', width:150, sortable:false}		
	   	],
	   	rowNum:10,
	   	rowList:[10,20,30],
	    jsonReader: {
            root:"testPage.result",                // 数据行（默认为：rows）
            page: "testPage.pageSize",            // 当前页
            total: "testPage.pageSize",    // 总页数
            records: "testPage.totalCount",    // 总记录数
            repeatitems : false                // 设置成false，在后台设置值的时候，可以乱序。且并非每个值都得设
    },
	   	pager: '#gridPager',
	   	sortname: 'id',
	    viewrecords: true,
	    sortorder: "desc",
	    caption:"JSON Example"
	});
	jQuery("#gridTable").jqGrid('navGrid','#gridPager',{edit:false,add:false,del:false});
});	
	*/
	
	jQuery().ready(function(){jQuery("#gridTable").jqGrid({
			                url:'json-test!testObj.do',
			                datatype: "json",
			                height: 250,
			                width:800,
			                colNames:['编号','名称'],
			                colModel:[
			                        {name:'housetypeid',index:'housetypeid'},
			                        {name:'housetypename',index:'housetypeid'}
			                        //{name:'gender',index:'gender',}
			                       // {name:'email',index:'email', ;string"},
			                        //{name:'QQ',index:'QQ'}           
			                       // {name:'mobilePhone',index:'mobilePhone'},           
			                       // {name:'birthday',index:'birthday', sorttype:"date"}
			                ],
			                sortname:'housetypeid',
			                sortorder:'asc',
			                viewrecords:true,
			                rowNum:10,
			                rowList:[10,20,30],
			                jsonReader: {
			                        root:"testPage.result",                // 数据行（默认为：rows）
			                        page:1,            // 当前页
			                        total: "testPage.pageSize",    // 总页数
			                        records: "testPage.totalCount",    // 总记录数
			                        repeatitems : false                // 设置成false，在后台设置值的时候，可以乱序。且并非每个值都得设
			                },
			                //prmNames:{rows:2,page:1,sort:"desc",order:"asc"},
			                pager:"#gridPager",
			                 recordtext: "查看 {0} - {1} of {2}",  
			                emptyrecords: "No records to view",  
			            loadtext: "加载...",  
			            pgtext : "页 {0} of {1}"  ,
			                caption: "jqGrid与Struts2集成"
			})
			//.navGrid('#gridPager',{edit:true,add:true,del:true})
			;
			});
	

</script> 
	<script type="text/javascript">  
  
    function alt() {  
        jQuery.getJSON("json-test.do", function(json){alert(json.name);});  
    }
  
    function altTest() {  
        jQuery.getJSON("json-test!test.do", function(json){alert(json.name);});  
    }
    
    function altTestObj() {  
        jQuery.getJSON("json-test!testObj.do",{name:"test",age:20} , function(json){
        testObj(json);
        });  
    }
    function testObj(json){
          //alert(json.name);
          // alert(json.test.testa);
           //alert(json.testPage.totalCount);
          // alert(json.testPage.result);
           var htmlstr=""; 
          // for(i=0;i<json.testPage.result.length;i++)
             // htmlstr+=json.testPage.result[i].housetypename+"<br/>";
                //这样
             // jQuery.each(json.testPage.result,function(i){ 
            	//  $("#div1").append("<li>Id:"+json.testPage.result[i].housetypeid+"&nbsp; Name:"+json.testPage.result[i].housetypename+"</li>") 
            	//或者
            	 jQuery.each(json.testPage.result,function(i,ht){ 
            	$("#div1").append("<li>Id:"+ht.housetypeid+"&nbsp; Name:"+ht.housetypename+"</li>") 
            	  }); 
       // alert(jQuery('#div1').html());
        //jQuery("#div1").html(htmlstr);
        //jQuery("#div1")[0].innerHTML=htmlstr;   
         //div1.innerHTML=htmlstr;   
                   

                //jQuery("div").empty();   
          
                //jQuery("div").remove();   
       // jQuery("div").hide(1000);   
       // jQuery("div").show(2000);
       // jQuery("#div2").hide();  
        //jQuery("#div1").hide(1000);    
       //jQuery("#div2").show();   
    }
</script>  
		#set($i=2)
		hello $i !!!<br/>
		<a href="bbb.do?a=2">link2</a>
		<form action="$base/bbbhello.do" method="post">
		<input name="a" type="text" />
		
		<input type="hidden" name="struts.token.name" value="token" />
<input type="hidden" name="token" value="$TokenHelper.setToken("token")"  />
 
<input type="submit">
		</form>
				<button id="a" onclick="alt();">点我-Default</button>  
<button id="b" onclick="altTest();">点我-Test</button>
<button id="b" onclick="altTestObj();">点我-TestObj</button>    
			<div id="div1">
	</div>
		<div id="div2">
		测试empty
	</div>
	<div id="div3">
		测试remove
	</div>
	
	 <table id="gridTable" class="ui-layout-center ui-helper-reset ui-widget-content" ></table>
        <div id="gridPager" ></div>
        
	</body>
